# -*- coding: utf-8 -*-
from openerp import api, models
from openerp.exceptions import ValidationError


class BudgetPlanUnit(models.Model):
    _inherit = 'budget.plan.unit'

    @api.model
    def prepare_data(self, action, datas=False):
        action_list = ['copy_budget_plan_with_new_section']
        sample_datas = {
            'copy_budget_plan_with_new_section': {
                'PLAN/19/105002': [
                    '101012',
                    '101018',
                    '101019',
                    '101021',
                    '101009',
                    '101013',
                    '101020',
                    '101022',
                    '101023',
                    '105007',
                    '105009',
                    '105010',
                    '105011',
                    '105052',
                    '105042',
                    '105053',
                    '105054',
                    '105057',
                    '105058',
                    '105019',
                    '105020',
                    '105021',
                    '105023',
                    '105024',
                    '105022',
                    '105025',
                    '105045',
                    '105061',
                    '105069',
                    '105026',
                    '105027',
                    '105028',
                    '105029',
                    '105030',
                    '105046',
                    '105048',
                    '105049',
                    '105047',
                    '105071',
                    '105072',
                    '103007',
                    '103012',
                    '103021',
                    '103015',
                    '103023',
                    '103024',
                    '105018',
                    '105062',
                    '105063',
                    '105013',
                    '105001',
                    '105050',
                    '105051',
                    '102003',
                    '102004',
                    '102005',
                    '102006',
                    '102007',
                    '102008',
                    '104011',
                    '104012',
                    '105032',
                    '105033',
                    '105036',
                    '105037',
                    '105065',
                    '105067',
                    '105031',
                    '101024',
                    '104013',
                    '104014',
                    '104015',
                    '103001',
                    '103003',
                    '103010',
                    '103011',
                    '103006',
                    '103004',
                    '103019',
                    '103020',
                    '103022',
                    '103009',
                    '103016',
                    '103017',
                    '103018',
                    '104010',
                    '104009',
                    '104002',
                    '104006',
                    '104007',
                    '105012',
                    '105006',
                    '105999',
                    '201015',
                    '201029',
                    '201030',
                    '201031',
                    '201032',
                    '201033',
                    '201034',
                    '201041',
                    '201043',
                    '201061',
                    '201070',
                    '201071',
                    '201073',
                    '201016',
                    '201021',
                    '201022',
                    '201023',
                    '201062',
                    '201063',
                    '201076',
                    '201020',
                    '201064',
                    '201014',
                    '201018',
                    '201065',
                    '201024',
                    '201026',
                    '201027',
                    '201042',
                    '201044',
                    '201045',
                    '201046',
                    '201047',
                    '201017',
                    '201072',
                    '201074',
                    '201075',
                    '201049',
                    '201050',
                    '201048',
                    '201052',
                    '201056',
                    '201057',
                    '201054',
                    '201055',
                    '201059',
                    '201077',
                    '204002',
                    '204008',
                    '202002',
                    '202004',
                    '203003',
                    '202001',
                    '205011',
                    '205002',
                    '205009',
                    '205017',
                    '205025',
                    '205026',
                    '205008',
                    '205015',
                    '205023',
                    '205003',
                    '201012',
                    '205012',
                    '205024',
                    '205021',
                    '201004',
                    '201068',
                    '201069',
                    '201066',
                    '201067',
                    '203002',
                    '205004',
                    '205005',
                    '202003',
                    '205001',
                    '205027',
                    '204009',
                    '204010',
                    '204011',
                    '301002',
                    '301003',
                    '301004',
                    '301005',
                    '301006',
                    '301007',
                    '301008',
                    '301009',
                    '301010',
                    '301011',
                    '301025',
                    '301026',
                    '301029',
                    '301055',
                    '301056',
                    '301030',
                    '301031',
                    '301060',
                    '301034',
                    '301035',
                    '301036',
                    '301040',
                    '301064',
                    '301042',
                    '301043',
                    '301044',
                    '301046',
                    '301047',
                    '301048',
                    '301049',
                    '301051',
                    '302001',
                    '302003',
                    '302004',
                    '301012',
                    '301061',
                    '301062',
                    '301063',
                    '301065',
                    '304001',
                    '305002',
                    '305005',
                    '305006',
                    '305011',
                    '301053',
                    '302002',
                    '303001',
                    '303003',
                    '305004',
                    '305009',
                    '305010',
                    '305014',
                    '305015',
                    '305016',
                    '305019',
                    '305003',
                    '305018',
                    '301058',
                    '301059',
                    '401014',
                    '401037',
                    '401052',
                    '401053',
                    '401010',
                    '401011',
                    '401012',
                    '401040',
                    '401061',
                    '401071',
                    '401015',
                    '401022',
                    '401064',
                    '401065',
                    '401066',
                    '401072',
                    '401038',
                    '401054',
                    '401055',
                    '401068',
                    '401025',
                    '401026',
                    '401027',
                    '401028',
                    '401029',
                    '401030',
                    '401031',
                    '401042',
                    '401043',
                    '401044',
                    '401002',
                    '401039',
                    '401057',
                    '401058',
                    '401059',
                    '401060',
                    '401007',
                    '401016',
                    '401041',
                    '401050',
                    '401062',
                    '401001',
                    '401048',
                    '401067',
                    '404001',
                    '401032',
                    '401035',
                    '401036',
                    '401051',
                    '401018',
                    '401019',
                    '401070',
                    '401074',
                    '403011',
                    '402001',
                    '402002',
                    '402003',
                    '402004',
                    '405008',
                    '405009',
                    '405010',
                    '405016',
                    '402005',
                    '405003',
                    '405011',
                    '405020',
                    '405012',
                    '405013',
                    '405014',
                    '405002',
                    '405004',
                    '405005',
                    '405017',
                    '405018',
                    '404002',
                    '401023',
                    '401024',
                    '401045',
                    '401046',
                    '401073',
                    '401069',
                    '502007',
                    '502008',
                    '502009',
                    '502010',
                    '502001',
                    '502003',
                    '502004',
                    '502005',
                    '502006',
                    '502014',
                    '502015',
                    '503001',
                    '503002',
                    '503003',
                    '503004',
                    '503005',
                    '502012',
                    '502013',
                    '502016',
                    '502018',
                    '502030',
                    '504002',
                    '504003',
                    '504007',
                    '504008',
                    '504025',
                    '504026',
                    '502019',
                    '502020',
                    '502021',
                    '502022',
                    '502023',
                    '502017',
                    '504015',
                    '504021',
                    '504030',
                    '504031',
                    '504032',
                    '504028',
                    '504029',
                    '504033',
                    '502024',
                    '502025',
                    '502026',
                    '502027',
                    '505010',
                    '601020',
                    '601003',
                    '601006',
                    '601008',
                    '601021',
                    '601004',
                    '601007',
                    '601013',
                    '601024',
                    '601005',
                    '601016',
                    '601022',
                    '601025',
                    '601002',
                    '601023',
                    '601027',
                    '601028',
                    '601010',
                    '601011',
                    '602004',
                    '602005',
                    '605018',
                    '602003',
                    '605011',
                    '605012',
                    '605013',
                    '605014',
                    '605001',
                    '605002',
                    '605004',
                    '605006',
                    '601017',
                    '605007',
                    '605009',
                    '605010',
                    '605017',
                    '601009',
                    '601015',
                    '601026',
                    '604001',
                    '602001',
                    '602002',
                    '602006',
                    '602007',
                ]
            }
        }

        if action not in action_list:
            raise ValidationError('%s is not a valid action')

        if not datas:
            datas = sample_datas[action]

        for plan in datas.keys():
            budget_plan = self.search([('name', '=', plan)])
            if not budget_plan:
                raise ValidationError('%s not found' % plan)
            for s in datas[plan]:
                section = self.env['res.section'].search([('code', '=', s)])
                budget_plan.copy({'section_id': section.id})
