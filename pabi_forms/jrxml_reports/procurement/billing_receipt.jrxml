<?xml version="1.0" encoding="UTF-8"?>
<jasperReport xmlns="http://jasperreports.sourceforge.net/jasperreports" xmlns:xsi="http://www.w3.org/2001/XMLSchema-instance" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports http://jasperreports.sourceforge.net/xsd/jasperreport.xsd" name="4มิยใบรับวางบิล" language="groovy" pageWidth="595" pageHeight="842" columnWidth="483" leftMargin="56" rightMargin="56" topMargin="56" bottomMargin="56">
	<property name="ireport.zoom" value="1.3636363636363635"/>
	<property name="ireport.x" value="70"/>
	<property name="ireport.y" value="109"/>
	<style name="table" lineSpacing="Single">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TH" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_CH" mode="Opaque" backcolor="#FFBFBF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table_TD" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1" lineSpacing="Single">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TH" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_CH" mode="Opaque" backcolor="#FFBFBF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 1_TD" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2" lineSpacing="Single">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TH" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_CH" mode="Opaque" backcolor="#FFBFBF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 2_TD" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
		<conditionalStyle>
			<conditionExpression><![CDATA[new Boolean($V{REPORT_COUNT}.intValue()%2==0)]]></conditionExpression>
			<style backcolor="#FFEFEF" lineSpacing="Single"/>
		</conditionalStyle>
	</style>
	<style name="table 3" lineSpacing="Single">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TH" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_CH" mode="Opaque" backcolor="#FFBFBF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 3_TD" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4" lineSpacing="Single">
		<box>
			<pen lineWidth="1.0" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TH" mode="Opaque" backcolor="#F0F8FF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_CH" mode="Opaque" backcolor="#BFE1FF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<style name="table 4_TD" mode="Opaque" backcolor="#FFFFFF" lineSpacing="Single">
		<box>
			<pen lineWidth="0.5" lineColor="#000000"/>
		</box>
	</style>
	<subDataset name="billing_detail">
		<parameter name="ids" class="java.lang.Integer"/>
		<queryString>
			<![CDATA[SELECT
ai.number as name,
ai.date_invoice,
(
SELECT po.name from
purchase_order_line pol
LEFT JOIN purchase_order po ON pol.order_id = po.id
LEFT JOIN purchase_order_line_invoice_rel polir ON polir.order_line_id = pol.id
LEFT JOIN account_invoice ai2 ON polir.invoice_id = ai2.id
WHERE ai2.id = ai.id
LIMIT 1
) as reference,
ai.amount_total,
string_agg(pol.name,',') as product_description
FROM account_invoice ai
LEFT JOIN purchase_order_line pol
ON pol.order_id = (SELECT po.id FROM purchase_order po WHERE po.name = ai.reference)
WHERE ai.purchase_billing_id = $P{ids}
GROUP BY ai.number,ai.id,ai.name,ai.date_invoice,
ai.reference,
ai.amount_total]]>
		</queryString>
		<field name="name" class="java.lang.String"/>
		<field name="date_invoice" class="java.sql.Date">
			<fieldDescription><![CDATA[Invoice Date]]></fieldDescription>
		</field>
		<field name="reference" class="java.lang.String">
			<fieldDescription><![CDATA[Invoice Reference]]></fieldDescription>
		</field>
		<field name="amount_total" class="java.math.BigDecimal">
			<fieldDescription><![CDATA[Total]]></fieldDescription>
		</field>
		<field name="product_description" class="java.lang.String"/>
		<variable name="count_column" class="java.lang.Integer" resetType="None" calculation="Count">
			<variableExpression><![CDATA[$V{COLUMN_COUNT}]]></variableExpression>
		</variable>
	</subDataset>
	<parameter name="IDS" class="java.lang.Object"/>
	<parameter name="PIDS" class="java.util.List" isForPrompting="false">
		<defaultValueExpression><![CDATA[$P{IDS}.toList()]]></defaultValueExpression>
	</parameter>
	<queryString>
		<![CDATA[SELECT
pb.id,
ou.code as name,
CONCAT(
COALESCE(ou_rp.street||' ',''),
COALESCE(ou_rp.street2||' ','')
) as street,
ou_rp.phone as phone,
ou_rp.fax as fax,
supplier.name sup_name,
CONCAT(
COALESCE(supplier.street||' ',''),
COALESCE(supplier.street2||' ',''),
COALESCE(supplier_township.name||' ',''),
COALESCE(supplier_district.name||' ',''),
COALESCE(supplier_province.name||' ',''),
COALESCE(supplier.zip,'')) address,
supplier.phone sup_phone,
supplier.fax sup_fax,
pb.name billnumber,
pb.date datebill,
pb.date_due,
pb.amount_total,
' ' as billing_name,
' ' as billnote,
cur.name as currency
FROM purchase_billing pb
LEFT JOIN res_partner supplier
ON supplier.id = pb.partner_id
LEFT JOIN res_country_province supplier_province
ON supplier_province.id = supplier.province_id
LEFT JOIN res_country_district supplier_district
ON supplier_district.id = supplier.district_id
LEFT JOIN res_country_township supplier_township
ON supplier_township.id = supplier.township_id
LEFT JOIN operating_unit ou
ON ou.id = pb.operating_unit_id
LEFT JOIN res_partner ou_rp
ON ou_rp.id = ou.partner_id
LEFT JOIN res_currency cur
ON pb.currency_id = cur.id
WHERE $X{IN, pb.id, PIDS}]]>
	</queryString>
	<field name="id" class="java.lang.Integer"/>
	<field name="name" class="java.lang.String"/>
	<field name="street" class="java.lang.String">
		<fieldDescription><![CDATA[Street]]></fieldDescription>
	</field>
	<field name="phone" class="java.lang.String">
		<fieldDescription><![CDATA[Phone]]></fieldDescription>
	</field>
	<field name="fax" class="java.lang.String">
		<fieldDescription><![CDATA[Fax]]></fieldDescription>
	</field>
	<field name="sup_name" class="java.lang.String"/>
	<field name="address" class="java.lang.String"/>
	<field name="sup_phone" class="java.lang.String"/>
	<field name="sup_fax" class="java.lang.String"/>
	<field name="billnumber" class="java.lang.String"/>
	<field name="datebill" class="java.sql.Date"/>
	<field name="date_due" class="java.sql.Date">
		<fieldDescription><![CDATA[Due Date]]></fieldDescription>
	</field>
	<field name="amount_total" class="java.lang.Double">
		<fieldDescription><![CDATA[Total]]></fieldDescription>
	</field>
	<field name="billing_name" class="java.lang.String"/>
	<field name="billnote" class="java.lang.String"/>
	<field name="currency" class="java.lang.String"/>
	<variable name="VAT" class="java.lang.Number">
		<variableExpression><![CDATA[$F{amount_total}*0.07]]></variableExpression>
	</variable>
	<background>
		<band splitType="Stretch"/>
	</background>
	<title>
		<band height="156" splitType="Stretch">
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="0" width="277" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="16" width="277" height="32"/>
				<textElement lineSpacing="Single" markup="html">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[($F{street} != null ? $F{street} : ' ' )]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="181" y="65" width="83" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ใบรับวางบิล]]></text>
			</staticText>
			<staticText>
				<reportElement x="339" y="31" width="141" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ส่วนที่ 1 : สำหรับเจ้าหน้าที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="339" y="50" width="20" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เลขทีี่ ]]></text>
			</staticText>
			<staticText>
				<reportElement x="339" y="65" width="20" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันทีี่]]></text>
			</staticText>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="359" y="65" width="123" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{datebill}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="4" y="82" width="74" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" isBold="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[บริษัท / ห้าง / ร้าน :]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="112" width="148" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_phone} != null ? "โทรศัพท์ : "+$F{sup_phone} : ' ']]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="172" y="112" width="157" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_fax} != null ? "โทรสาร : "+$F{sup_fax} : ' ']]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="4" y="97" width="20" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ที่อยู่ :]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="4" y="46" width="160" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{phone} != null ? "โทรศัพท์ : "+$F{phone} : ' ']]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="172" y="46" width="144" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{fax} != null ? "โทรสาร : "+$F{fax} : ' ']]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="359" y="50" width="123" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{billnumber}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="77" y="82" width="312" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_name}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="23" y="97" width="366" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{address}]]></textFieldExpression>
			</textField>
		</band>
	</title>
	<pageHeader>
		<band splitType="Stretch"/>
	</pageHeader>
	<columnHeader>
		<band splitType="Stretch"/>
	</columnHeader>
	<detail>
		<band height="17" splitType="Stretch">
			<staticText>
				<reportElement x="1" y="0" width="35" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ ลำดับที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="34" y="0" width="118" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ เลขที่ใบกำกับภาษี/ลงวันที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="152" y="0" width="69" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ เลขที่ใบสั่งซื้อ]]></text>
			</staticText>
			<staticText>
				<reportElement x="221" y="0" width="196" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รายละเอียด]]></text>
			</staticText>
			<textField>
				<reportElement style="table" x="417" y="0" width="66" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["จำนวนเงิน (" + $F{currency} + ")"]]></textFieldExpression>
			</textField>
		</band>
		<band height="18">
			<componentElement>
				<reportElement key="table 5" x="1" y="0" width="483" height="18"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="billing_detail">
						<datasetParameter name="ids">
							<datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="35">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField>
								<reportElement x="0" y="0" width="35" height="18"/>
								<textElement textAlignment="Center" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.lang.Integer"><![CDATA[$V{count_column}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="116">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement x="5" y="0" width="111" height="18"/>
								<textElement textAlignment="Left" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[($F{name} != null ? $F{name} + "/" : "")
+
($F{date_invoice} != null ? new SimpleDateFormat("dd/MM/yyyy").format($F{date_invoice}) : "")]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="69">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="4" y="0" width="65" height="18" forecolor="#000000" backcolor="#FFFFFF"/>
								<textElement textAlignment="Center" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
									<font fontName="SansSerif" size="11" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{reference}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="196">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="10" y="0" width="175" height="18" forecolor="#000000" backcolor="#FFFFFF"/>
								<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
									<font fontName="SansSerif" size="10" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{product_description}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="66">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="61" height="18"/>
								<textElement textAlignment="Right" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{amount_total}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
		<band height="135">
			<rectangle>
				<reportElement x="1" y="0" width="418" height="48"/>
			</rectangle>
			<rectangle>
				<reportElement x="417" y="0" width="66" height="48"/>
			</rectangle>
			<rectangle>
				<reportElement x="1" y="57" width="245" height="34"/>
			</rectangle>
			<staticText>
				<reportElement x="356" y="16" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ภาษีมูลค่าเพิ่ม]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="31" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รวมเงินทั้งสิ้น]]></text>
			</staticText>
			<rectangle>
				<reportElement x="246" y="57" width="236" height="34"/>
			</rectangle>
			<staticText>
				<reportElement x="8" y="72" width="95" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<staticText>
				<reportElement x="254" y="57" width="40" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ผู้วางบิล]]></text>
			</staticText>
			<line>
				<reportElement x="297" y="69" width="136" height="1"/>
			</line>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="419" y="31" width="60" height="16"/>
				<textElement textAlignment="Right" lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount_total}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="356" y="1" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รวมเป็นเงิน]]></text>
			</staticText>
			<staticText>
				<reportElement x="4" y="91" width="499" height="20"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[สอบถามสถานะเช็คและรับเช็คได้ที่ฝ่ายการเงินและบัญชี โทร 025647000]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="4" y="115" width="499" height="20" isRemoveLineWhenBlank="true"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{billnote} != null ? "หมายเหตุ : "+$F{billnote} : ' ']]></textFieldExpression>
			</textField>
			<line>
				<reportElement x="52" y="69" width="136" height="1"/>
			</line>
			<staticText>
				<reportElement x="8" y="57" width="40" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ผู้รับวางบิล]]></text>
			</staticText>
			<line>
				<reportElement x="30" y="83" width="136" height="1"/>
			</line>
			<staticText>
				<reportElement x="254" y="73" width="95" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<line>
				<reportElement x="276" y="84" width="136" height="1"/>
			</line>
		</band>
		<band height="161">
			<staticText>
				<reportElement x="8" y="104" width="20" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ที่อยู่ :]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="8" y="53" width="156" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{phone} != null ? "โทรศัพท์ : "+$F{phone} : ' ']]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="363" y="57" width="123" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{billnumber}]]></textFieldExpression>
			</textField>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="27" y="104" width="366" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{address}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="8" y="89" width="74" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" isBold="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[บริษัท / ห้าง / ร้าน :]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="8" y="23" width="277" height="32"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{street}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="343" y="72" width="20" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันทีี่]]></text>
			</staticText>
			<textField isStretchWithOverflow="true" isBlankWhenNull="true">
				<reportElement x="176" y="53" width="140" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{fax} != null ? "โทรสาร : "+$F{fax} : ' ']]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="8" y="119" width="148" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_phone} != null ? "โทรศัพท์ : "+$F{sup_phone} : ' ']]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="343" y="57" width="20" height="16"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[เลขทีี่ ]]></text>
			</staticText>
			<staticText>
				<reportElement x="343" y="38" width="146" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ส่วนที่ 2 : สำหรับผู้ขาย/ผู้รับจ้าง]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="176" y="119" width="157" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_fax} != null ? "โทรสาร : "+$F{sup_fax} : ' ']]></textFieldExpression>
			</textField>
			<textField pattern="dd/MM/yyyy" isBlankWhenNull="true">
				<reportElement x="363" y="72" width="123" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.util.Date"><![CDATA[$F{datebill}]]></textFieldExpression>
			</textField>
			<textField isBlankWhenNull="true">
				<reportElement x="8" y="7" width="277" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{name}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="185" y="72" width="87" height="17"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ใบรับวางบิล]]></text>
			</staticText>
			<textField isBlankWhenNull="true">
				<reportElement x="81" y="89" width="312" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{sup_name}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="221" y="144" width="196" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รายละเอียด]]></text>
			</staticText>
			<staticText>
				<reportElement x="152" y="144" width="69" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ เลขที่ใบสั่งซื้อ]]></text>
			</staticText>
			<staticText>
				<reportElement x="34" y="144" width="118" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ เลขที่ใบกำกับภาษี/ลงวันที่]]></text>
			</staticText>
			<textField>
				<reportElement style="table" x="417" y="144" width="66" height="17"/>
				<textElement textAlignment="Center" verticalAlignment="Middle" lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="10" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA["จำนวนเงิน (" + $F{currency} + ")"]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="1" y="144" width="35" height="17"/>
				<box>
					<topPen lineWidth="1.0"/>
					<leftPen lineWidth="1.0"/>
					<bottomPen lineWidth="1.0"/>
					<rightPen lineWidth="1.0"/>
				</box>
				<textElement verticalAlignment="Middle" lineSpacing="Single">
					<font fontName="SansSerif" size="14" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ ลำดับที่]]></text>
			</staticText>
			<break>
				<reportElement x="0" y="0" width="100" height="1"/>
			</break>
		</band>
		<band height="18">
			<componentElement>
				<reportElement key="table 5" x="1" y="0" width="483" height="18"/>
				<jr:table xmlns:jr="http://jasperreports.sourceforge.net/jasperreports/components" xsi:schemaLocation="http://jasperreports.sourceforge.net/jasperreports/components http://jasperreports.sourceforge.net/xsd/components.xsd">
					<datasetRun subDataset="billing_detail">
						<datasetParameter name="ids">
							<datasetParameterExpression><![CDATA[$F{id}]]></datasetParameterExpression>
						</datasetParameter>
						<connectionExpression><![CDATA[$P{REPORT_CONNECTION}]]></connectionExpression>
					</datasetRun>
					<jr:column width="35">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement x="0" y="0" width="35" height="18"/>
								<textElement textAlignment="Center" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.lang.Integer"><![CDATA[$V{count_column}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="116">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true">
								<reportElement x="5" y="0" width="111" height="18"/>
								<textElement textAlignment="Left" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[($F{name} != null ? $F{name} + "/" : "")
+
($F{date_invoice} != null ? new SimpleDateFormat("dd/MM/yyyy").format($F{date_invoice}) : "")]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="69">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" isBlankWhenNull="true">
								<reportElement x="4" y="0" width="65" height="18"/>
								<textElement textAlignment="Center" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{reference}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="196">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" pattern="" isBlankWhenNull="true">
								<reportElement mode="Transparent" x="10" y="0" width="175" height="18" forecolor="#000000" backcolor="#FFFFFF"/>
								<textElement textAlignment="Left" verticalAlignment="Top" rotation="None" lineSpacing="Single" markup="none">
									<font fontName="SansSerif" isBold="false" isItalic="false" isUnderline="false" isStrikeThrough="false" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H" isPdfEmbedded="false"/>
								</textElement>
								<textFieldExpression class="java.lang.String"><![CDATA[$F{product_description}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
					<jr:column width="66">
						<jr:detailCell height="18" rowSpan="1">
							<box>
								<leftPen lineWidth="1.0"/>
								<rightPen lineWidth="1.0"/>
							</box>
							<textField isStretchWithOverflow="true" pattern="#,##0.00" isBlankWhenNull="true">
								<reportElement x="0" y="0" width="61" height="18"/>
								<textElement textAlignment="Right" lineSpacing="Single">
									<font size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
								</textElement>
								<textFieldExpression class="java.math.BigDecimal"><![CDATA[$F{amount_total}]]></textFieldExpression>
							</textField>
						</jr:detailCell>
					</jr:column>
				</jr:table>
			</componentElement>
		</band>
		<band height="117">
			<staticText>
				<reportElement x="2" y="91" width="499" height="20"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[สอบถามสถานะเช็คและรับเช็คได้ที่ฝ่ายการเงินและบัญชี โทร 025647000]]></text>
			</staticText>
			<staticText>
				<reportElement x="362" y="16" width="66" height="16"/>
				<box>
					<bottomPen lineWidth="1.0"/>
				</box>
				<textElement lineSpacing="Single">
					<font size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<rectangle>
				<reportElement x="417" y="0" width="66" height="48"/>
			</rectangle>
			<staticText>
				<reportElement x="362" y="1" width="66" height="16"/>
				<box>
					<bottomPen lineWidth="0.0"/>
				</box>
				<textElement lineSpacing="Single">
					<font size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[]]></text>
			</staticText>
			<rectangle>
				<reportElement x="1" y="57" width="245" height="34"/>
			</rectangle>
			<rectangle>
				<reportElement x="246" y="57" width="236" height="34"/>
			</rectangle>
			<rectangle>
				<reportElement style="table 4_TD" x="1" y="0" width="416" height="48"/>
			</rectangle>
			<line>
				<reportElement x="297" y="69" width="136" height="1"/>
			</line>
			<textField pattern="#,##0.00" isBlankWhenNull="true">
				<reportElement x="419" y="31" width="60" height="16"/>
				<textElement textAlignment="Right" lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.Number"><![CDATA[$F{amount_total}]]></textFieldExpression>
			</textField>
			<staticText>
				<reportElement x="356" y="16" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ภาษีมูลค่าเพิ่ม]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="31" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รวมเงินทั้งสิ้น]]></text>
			</staticText>
			<staticText>
				<reportElement x="356" y="1" width="89" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" isBold="true" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[รวมเป็นเงิน]]></text>
			</staticText>
			<staticText>
				<reportElement x="254" y="57" width="40" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ผู้วางบิล]]></text>
			</staticText>
			<staticText>
				<reportElement x="4" y="73" width="95" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<line>
				<reportElement x="26" y="84" width="136" height="1"/>
			</line>
			<line>
				<reportElement x="47" y="69" width="136" height="1"/>
			</line>
			<staticText>
				<reportElement x="4" y="57" width="40" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[ผู้รับวางบิล]]></text>
			</staticText>
			<staticText>
				<reportElement x="254" y="72" width="95" height="16"/>
				<textElement lineSpacing="Single">
					<font fontName="SansSerif" size="13" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<text><![CDATA[วันที่]]></text>
			</staticText>
			<line>
				<reportElement x="276" y="83" width="136" height="1"/>
			</line>
		</band>
		<band height="20">
			<textField isBlankWhenNull="true">
				<reportElement x="1" y="0" width="499" height="20" isRemoveLineWhenBlank="true"/>
				<textElement lineSpacing="Single" markup="none">
					<font fontName="SansSerif" size="11" pdfFontName="THSarabun.ttf" pdfEncoding="Identity-H"/>
				</textElement>
				<textFieldExpression class="java.lang.String"><![CDATA[$F{billnote} != null ? "หมายเหตุ : "+$F{billnote} : ' ']]></textFieldExpression>
			</textField>
		</band>
	</detail>
</jasperReport>
